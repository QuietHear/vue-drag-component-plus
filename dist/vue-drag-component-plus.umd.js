(function(t,ae){typeof exports=="object"&&typeof module<"u"?module.exports=ae(require("vue")):typeof define=="function"&&define.amd?define(["vue"],ae):(t=typeof globalThis<"u"?globalThis:t||self,t.vueDragComponentPlus=ae(t.Vue))})(this,function(t){"use strict";const ae={__name:"icon",props:{iconObj:{type:Object,requured:!0}},setup(h){return(_,V)=>{const m=t.resolveComponent("el-icon");return h.iconObj.type==="custom"?(t.openBlock(),t.createBlock(t.resolveDynamicComponent(h.iconObj.icon),t.normalizeProps(t.mergeProps({key:0},h.iconObj.attrs)),null,16)):h.iconObj.type==="el"?(t.openBlock(),t.createBlock(m,t.normalizeProps(t.mergeProps({key:1},h.iconObj.attrs)),{default:t.withCtx(()=>[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(h.iconObj.icon)))]),_:1},16)):h.iconObj.type==="iconfont"?(t.openBlock(),t.createElementBlock("i",t.mergeProps({key:2,class:["icon iconfont","icon-"+h.iconObj.icon]},h.iconObj.attrs),null,16)):(t.openBlock(),t.createElementBlock("i",t.mergeProps({key:3,class:h.iconObj.type},h.iconObj.attrs),t.toDisplayString(h.iconObj.icon),17))}}},Ke=(h,_={x:"x",y:"y",width:"width",height:"height"})=>{let V=null;return h instanceof Array?(V=[],h.forEach(m=>{typeof m[_.x]=="number"&&typeof m[_.y]=="number"&&typeof m[_.width]=="number"&&typeof m[_.height]=="number"&&V.push({x:m[_.x],y:m[_.y],width:m[_.width],height:m[_.height]})})):typeof h[_.width]=="number"&&typeof h[_.height]=="number"&&(V={width:h[_.width],height:h[_.height]}),V},at=h=>{const _=new Map;return h.forEach(V=>{_.has(V.x)||_.set(V.x,[]),_.get(V.x).push(V)}),_},ct=(h,_)=>h.filter(V=>V.x<=_.x&&V.x+V.width>_.x||V.x>_.x&&V.x<_.x+_.width),ht=(h,_,V,m=!1)=>{if(_.width>V)return null;let k=[];if(h.length===0){const z={x:0,y:0};return m?[z]:z}const x=Math.max(...h.map(z=>z.y+z.height)),pe=new Set([0]);h.forEach(z=>{pe.add(z.y),pe.add(z.y+z.height)});const ze=Array.from(pe).sort((z,N)=>z-N);for(const z of ze){const N=z+_.height;if(N>x)continue;const G=h.filter(E=>E.y<N&&E.y+E.height>z);if(G.length===0){const E={x:0,y:z};if(!m)return E;k.push(E);continue}const L=G.map(E=>[E.x,E.x+E.width]);L.sort((E,U)=>E[0]-U[0]);const A=[];let[D,s]=L[0];for(let E=1;E<L.length;E++){const[U,J]=L[E];U<=s?s=Math.max(s,J):(A.push([D,s]),[D,s]=[U,J])}if(A.push([D,s]),A[0][0]>=_.width){const E={x:0,y:z};if(!m)return E;k.push(E)}let F=A[0][1];for(let E=1;E<A.length;E++){if(A[E][0]-F>=_.width){const J={x:F,y:z};if(!m)return J;k.push(J)}F=Math.max(F,A[E][1])}if(V-F>=_.width){const E={x:F,y:z};if(!m)return E;k.push(E)}}return m?(at(k).forEach((N,G)=>{if(N.length>1)for(let L=0;L<N.length-1;L++){let A={..._,...N[L]};ct(h.filter(D=>D.y>=A.y+A.height&&D.y<=N[L+1].y),A).length===0&&(k=k.filter(D=>!(D.x===N[L+1].x&&D.y===N[L+1].y)),N.splice(L,1),L--)}}),k.sort((N,G)=>N.y!==G.y?N.y-G.y:N.x-G.x),k.length===0?null:k):null},Zt="",dt={class:"content-box"},ut=["onMousedown","onMouseenter","onMouseleave"],ft={class:"com-item-box"},pt=["title"],gt={class:"com-item-box-content"},yt=["onClick"],_t=["onClick"],xt=["onClick"],wt={key:1,class:"com-item-box-content"},kt=["onClick"],bt=["onClick"],mt=["onClick"],Et=["onClick"],Mt=["onClick"],St=["onClick"],Bt=["onClick"],vt=["onClick"],Ct=["onClick"],Pt=["onClick"],Dt=["onMousedown"],Nt=["onMousedown"],zt=["onMousedown"],Vt=["onMousedown"],It=["onMousedown"],Gt=["onMousedown"],Tt=["onMousedown"],At=["onMousedown"],Lt={key:2,class:"com-empty"},Ot=[{__name:"index",props:{insertResizeKeys:{type:Array,default:()=>["topLeft","top","topRight","left","right","bottomLeft","bottom","bottomRight"]},excludeResizeKeys:{type:Array,default:()=>[]},seeModel:{type:Boolean,default:!1},seeModelMinBg:{type:Number,default:50,validator(h,_){return h>=0}},itemMinWidth:{type:Number,default:50,validator(h,_){return h>=20}},itemMinHeight:{type:Number,default:50,validator(h,_){return h>=20}},xSpace:{type:Number,default:10,validator(h,_){return h>=0}},ySpace:{type:Number,default:null,validator(h,_){return h>=0}},hScaleDiscount:{type:Number,default:.2,validator(h,_){return h>0}},cssScaleMin:{type:Number,default:.75,validator(h,_){return h>0}},cssScaleMax:{type:Number,default:1.2,validator(h,_){return h>0&&h>=(_?_.cssScaleMin:.1)}},settingIcon:{type:Object,default:()=>({icon:"设置"})},hideTit:{type:Boolean,default:!1},showAuxiliary:{type:Boolean,default:!1},groupBtnPosMore:{type:Boolean,default:!1},beforeAddGroup:{type:Function,default:h=>h},beforeRemoveGroup:{type:Function,default:h=>h},dragDelayTime:{type:Number,default:200,validator(h,_){return h>=0&&h<1e3}}},emits:["baseWidthInit","changeScale","changeCssScale","changeTrimModel","dragStart","dragIng","dragEnd","resizeStart","resizeIng","resizeEnd","showGroup","openSetMenu","updateChecked","showTitPop","domStart","domReady"],setup(h,{expose:_,emit:V}){const m=V,k=h,x=o=>{if(typeof o=="object"&&!t.isVNode(o)&&o!==null&&!(o instanceof Date)){let l=o instanceof Array?[]:{};for(let e in o)l[e]=typeof o[e]=="object"&&!t.isVNode(o[e])&&o[e]!==null&&!(o[e]instanceof Date)?x(o[e]):o[e];return l}else return o},pe=(o,l)=>{let e=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector;for(;o&&!e.call(o,l);)o=o.parentElement;return o},ze=(o,l)=>o.classList?o.classList.contains(l):new RegExp("\\s"+l+"\\s").test(" "+o.className+" "),z=(o,l)=>{let e=[],n=r=>{r.forEach(i=>{ze(i,l)&&e.push(i),i.childNodes&&i.childNodes.length>0&&n(i.childNodes)})};return n(o.childNodes),e},N=(o,l,e=!1)=>L(G(o,l,e),l,e),G=(o,l,e=!1)=>o.filter(n=>n[e?"s_x":"x"]<=l[e?"s_x":"x"]&&n[e?"s_x":"x"]+n[e?"s_width":"width"]>l[e?"s_x":"x"]||n[e?"s_x":"x"]>l[e?"s_x":"x"]&&n[e?"s_x":"x"]<l[e?"s_x":"x"]+l[e?"s_width":"width"]),L=(o,l,e=!1)=>o.filter(n=>n[e?"s_y":"y"]<=l[e?"s_y":"y"]&&n[e?"s_y":"y"]+n[e?"s_height":"height"]>l[e?"s_y":"y"]||n[e?"s_y":"y"]>l[e?"s_y":"y"]&&n[e?"s_y":"y"]<l[e?"s_y":"y"]+l[e?"s_height":"height"]),A=(o,l=n=>n,e=!1)=>{const n=x(s.value),r=x(o);r.sort((p,f)=>{const M=p[e?"s_y":"y"],T=f[e?"s_y":"y"];if(M!==T)return M-T;{const c=p[e?"s_x":"x"],w=f[e?"s_x":"x"];return c-w}});const i=p=>{N(l(n,p),p,e).forEach(M=>{M[e?"s_y":"y"]=p[e?"s_y":"y"]+p[e?"s_height":"height"],i(M)})};r.forEach(p=>i(n.filter(f=>f.id===p.id)[0])),n.forEach(p=>{s.value.filter(f=>f.id===p.id)[0][e?"s_y":"y"]=p[e?"s_y":"y"]})},D=o=>{const l=x(o);return delete l.showPop,delete l.showSet,l.groupData?l.groupData.forEach(e=>{delete e.showPop,delete e.showSet,oe(e,l),delete e.s_width,delete e.s_height,delete e.s_x,delete e.s_y}):l.inGroupId&&(delete l.showPop,delete l.showSet,oe(l,s.value.filter(e=>e.id===l.inGroupId)[0])),delete l.btnPosition,delete l.s_width,delete l.s_height,delete l.s_x,delete l.s_y,delete l.syCopy,l},s=t.ref([]),F=()=>{k.insertResizeKeys.forEach(o=>{k.excludeResizeKeys.indexOf(o)===-1&&E.value.push(o)})};t.watch(()=>[k.insertResizeKeys,k.excludeResizeKeys],()=>{F()});const E=t.ref([]);F();const U=()=>{s.value.length>0&&s.value.filter(o=>o.isGroup===!0).forEach(o=>{le(o)})},J=()=>{k.xSpace!==null&&k.xSpace!==void 0?O.value=k.xSpace/2:O.value=10/2,k.ySpace!==null&&k.ySpace!==void 0&&k.ySpace>=0?Q.value=k.ySpace/2:Q.value=O.value,U()};t.watch(()=>[k.xSpace,k.ySpace],()=>{J()});const O=t.ref(0),Q=t.ref(0);J();const H=t.ref(null);let K=null;const ge=o=>{K=o,m("baseWidthInit",K)},W=t.ref(1),ye=t.ref(1),ce=o=>{W.value=o,o<k.cssScaleMin?ye.value=k.cssScaleMin:o>k.cssScaleMax?ye.value=k.cssScaleMax:ye.value=o,m("changeScale",W.value),m("changeCssScale",k.seeModel?ye.value:1)},$=()=>1+(W.value-1)*k.hScaleDiscount;t.watch(()=>k.seeModel,()=>{ce(W.value)});const le=(o,l=null)=>{l?(o.width=o.width*l,o.height=o.height*l):(o.s_width=o.width*W.value,o.s_height=o.height*$());const e=getComputedStyle(H.value),n=parseInt(e.getPropertyValue("--com-item-border-width").trim()),r=parseInt(e.getPropertyValue("--group-tit-height").trim());if(o.isGroup===!0)if(l){const i=o.width,p=o.height-(o.groupTit?r:0);o.groupData.forEach(f=>{f.width=i*f.groupW,f.height=p*f.groupH,f.x=i*f.groupX,f.y=p*f.groupY})}else{const i=o.s_width-2*O.value-2*n,p=o.s_height-2*Q.value-2*n-(o.groupTit?r:0);o.groupData.forEach(f=>{f.s_width=i*f.groupW,f.s_height=p*f.groupH,f.s_x=i*f.groupX,f.s_y=p*f.groupY})}},Ue=(o,l=null)=>{l?(o.s_x=o.x*l,o.s_y=o.y*l):(o.s_x=o.x*W.value,o.s_y=o.y*$())},Ht=o=>{o.width=o.s_width/W.value,o.height=o.s_height/$();const l=getComputedStyle(H.value),e=parseInt(l.getPropertyValue("--group-tit-height").trim());if(o.isGroup===!0){const n=o.width,r=o.height-(o.groupTit?e:0);o.groupData.forEach(i=>{i.x=n*i.groupX,i.y=r*i.groupY})}},_e=o=>{o.x=o.s_x/W.value,o.y=o.s_y/$()};let Z=null,Je=null;const j=t.ref(0),xe=t.ref(null),we=t.ref(null),ke=t.ref(null),be=t.ref(null),me=t.ref(null),Ee=t.ref(null),re=o=>{const l=x(o);if(!k.showAuxiliary||o===null)xe.value=null,we.value=null,ke.value=null,be.value=null,me.value=null,Ee.value=null;else{const e=getComputedStyle(H.value),n=parseInt(e.getPropertyValue("--auxiliary-width").trim()),r=s.value.filter(a=>a.id!==l.id).map(a=>Math.round(a.s_y)),i=s.value.filter(a=>a.id!==l.id).map(a=>Math.round(a.s_y+a.s_height/2)),p=s.value.filter(a=>a.id!==l.id).map(a=>Math.round(a.s_y+a.s_height)),f=[...r,...i,...p];f.sort(),f.filter(a=>a===Math.round(l.s_y)).length>0?xe.value=l.s_y:xe.value=null,f.filter(a=>a===Math.round(l.s_y+l.s_height/2)).length>0?we.value=l.s_y+l.s_height/2:we.value=null,f.filter(a=>a===Math.round(l.s_y+l.s_height)).length>0?ke.value=l.s_y+l.s_height-n:ke.value=null;const M=s.value.filter(a=>a.id!==l.id).map(a=>Math.round(a.s_x)),T=s.value.filter(a=>a.id!==l.id).map(a=>Math.round(a.s_x+a.s_width/2)),c=s.value.filter(a=>a.id!==l.id).map(a=>Math.round(a.s_x+a.s_width)),w=[...M,...T,...c];w.sort(),w.filter(a=>a===Math.round(l.s_x)).length>0?be.value=l.s_x:be.value=null,w.filter(a=>a===Math.round(l.s_x+l.s_width/2)).length>0?me.value=l.s_x+l.s_width/2:me.value=null,w.filter(a=>a===Math.round(l.s_x+l.s_width)).length>0?Ee.value=l.s_x+l.s_width-n:Ee.value=null}},X=t.ref(!1),Ve=o=>{let l=null;if(l=s.value.filter(e=>e.id===o)[0],l&&l.static!==!0&&l.dragable!==!1)X.value=!0,je(s.value.findIndex(e=>e.id===o)),setTimeout(()=>{window.addEventListener("click",Me),window.addEventListener("keydown",Ie)},50),m("changeTrimModel",X.value,D(s.value.filter(e=>e.id===l.id)[0]));else try{}catch{}},Ie=o=>{switch(o.keyCode){case 13:case 27:case 32:Me();break;case 37:he("left");break;case 38:he("top");break;case 39:he("right");break;case 40:he("bottom");break}},Me=()=>{window.removeEventListener("click",Me),window.removeEventListener("keydown",Ie),Te(),X.value=!1,m("changeTrimModel",X.value)};let g=null,Qe=null,Ze=null;const b=t.ref({});let Ge=null,q=null;const je=(o,l)=>{if(clearTimeout(Ge),clearTimeout(q),Be(),X.value)q=null,g=o,b.value=x(s.value[g]),m("dragStart",D(s.value[g])),s.value[g].move=!0,re(s.value[g]);else{const e=pe(o.target,".com-item");e&&(q=setTimeout(()=>{q=null,g=l,b.value=x(s.value[g]),m("dragStart",D(s.value[g])),s.value[g].move=!0,re(s.value[g]),Qe=o.clientX-e.offsetLeft,Ze=o.clientY-e.offsetTop,window.addEventListener("mousemove",he)},k.dragDelayTime),window.addEventListener("mouseup",Te))}},he=o=>{clearTimeout(Ge),clearTimeout(q),q=null;let l=null,e=null;if(X.value){const T=z(H.value,"i"+s.value[g].id+"d")[0];switch(l=T.offsetLeft,e=T.offsetTop,o){case"top":e-=1;break;case"bottom":e+=1;break;case"left":l-=1;break;case"right":l+=1;break}}else l=o.clientX-Qe,e=o.clientY-Ze;const n=l<=ee("left")?ee("left"):l>=ee("right")?ee("right"):l,r=e<=ee("top")?ee("top"):e>=ee("bottom")?ee("bottom"):e,i=n-s.value[g].s_x,p=r-s.value[g].s_y;let f="";i>0?f="right":i<0?f="left":p>0?f="bottom":p<0&&(f="top"),s.value[g].s_x=n,s.value[g].s_y=r;let M=N(x(s.value.filter(T=>T.move!==!0)),s.value[g],!0);if(M.length===0)b.value.s_x=n,b.value.s_y=r;else switch(f){case"top":const T=x(b.value);T.s_x=n,N(x(s.value.filter(d=>d.move!==!0)),T,!0).length===0&&(b.value.s_x=n);const c=M.filter(d=>s.value[g].s_height>=d.s_height&&r-d.s_y<=15||s.value[g].s_height<d.s_height&&r-d.s_y<=s.value[g].s_height/2);if(c.length>0){const d=G(x(s.value.filter(u=>u.move!==!0&&u.s_y+u.s_height<=b.value.s_y&&c.filter(B=>B.id===u.id).length===0)),b.value,!0);let S=s.value[g].s_height;if(d.length===0&&(S-=Math.min(...c.map(u=>u.s_y))),M.length===c.length?b.value.s_y=d.length===0?0:Math.max(...d.map(u=>u.s_y+u.s_height)):b.value.s_y=Math.max(...d.map(u=>u.s_y+u.s_height)),b.value.s_x=n,S>0){const u=x(c);c.forEach(B=>{G(s.value.filter(I=>I.move!==!0&&I.s_y>=B.s_y+B.s_height),B,!0).forEach(I=>{u.filter(Fe=>Fe.id===I.id).length===0&&u.push(x(I))})}),u.forEach(B=>{M.length!==c.length&&c.filter(v=>v.id===B.id).length===1&&(B.s_y=b.value.s_y),B.s_y+=S,s.value.filter(v=>v.id===B.id)[0].s_y=B.s_y})}}break;case"bottom":const w=x(b.value);w.s_x=n,N(x(s.value.filter(d=>d.move!==!0)),w,!0).length===0&&(b.value.s_x=n);const a=M.filter(d=>s.value[g].s_height>=d.s_height&&d.s_y+d.s_height-r-s.value[g].s_height<=15||s.value[g].s_height<d.s_height&&d.s_y+d.s_height-r-s.value[g].s_height<=d.s_height/2);if(a.length>0){a.forEach(u=>{const B=G(x(s.value.filter(v=>v.move!==!0&&v.s_y+v.s_height<=u.s_y)),u,!0);u.s_y=B.length===0?0:Math.max(...B.map(v=>v.s_y+v.s_height)),s.value.filter(v=>v.id===u.id)[0].s_y=u.s_y});const d=[...N(a,s.value[g],!0),...G(x(s.value.filter(u=>u.move!==!0&&u.s_y+u.s_height<=s.value[g].s_y+s.value[g].s_height)),s.value[g],!0)];let S=Math.max(...d.map(u=>u.s_y+u.s_height))-b.value.s_y;if(b.value.s_y=Math.max(...d.map(u=>u.s_y+u.s_height)),b.value.s_x=n,S>0){const u=G(s.value.filter(B=>B.move!==!0&&B.s_y>=b.value.s_y),b.value,!0);x(u).forEach(B=>{G(s.value.filter(I=>I.move!==!0&&I.s_y>=B.s_y+B.s_height),B,!0).forEach(I=>{u.filter(Fe=>Fe.id===I.id).length===0&&u.push(x(I))})}),u.forEach(B=>{B.s_y+=S,s.value.filter(v=>v.id===B.id)[0].s_y=B.s_y})}}break;case"left":case"right":const P=M.filter(d=>d.s_x+d.s_width-n>=O.value*2&&n+s.value[g].s_width-d.s_x>=O.value*2).filter(d=>r<d.s_y||r>=d.s_y&&r-d.s_y<=15).sort((d,S)=>{const u=d.s_y,B=S.s_y;return u-B});if(P.length>0)b.value.s_x=n,b.value.s_y=Math.min(...P.map(d=>d.s_y));else{let d=x(s.value[g]);if(d.s_y=Math.min(...M.map(S=>S.s_y))-d.s_height,b.value.s_y>=Math.min(...M.map(S=>S.s_y+S.s_height))||d.s_y>=0&&N(x(s.value.filter(S=>S.move!==!0)),d,!0).length===0){const S=x(b.value);S.s_x=n,N(x(s.value.filter(u=>u.move!==!0)),S,!0).length===0&&(b.value.s_x=n)}}P.forEach(d=>{const S=b.value.s_y+b.value.s_height-d.s_y>0?b.value.s_y+b.value.s_height-d.s_y:0,u=x([d]);G(s.value.filter(v=>v.move!==!0&&v.s_y>=d.s_y+d.s_height),d,!0).forEach(v=>{u.filter(I=>I.id===v.id).length===0&&u.push(x(v))}),u.forEach(v=>{v.s_y+=S,P.filter(I=>I.id===v.id).length===1&&(P.filter(I=>I.id===v.id)[0].s_y=v.s_y),s.value.filter(I=>I.id===v.id)[0].s_y=v.s_y})});break}s.value.forEach(T=>{_e(T)}),_e(b.value),Y(!1),re(s.value[g]),m("dragIng",D(s.value[g])),b.value.s_y=s.value[g].syCopy,delete s.value[g].syCopy},Te=()=>{window.removeEventListener("mouseup",Te),clearTimeout(q),q?q=null:(window.removeEventListener("mousemove",he),delete s.value[g].move,s.value[g].s_x=b.value.s_x,s.value[g].s_y=b.value.s_y,re(null),s.value.forEach(o=>{_e(o)}),Y(),m("dragEnd",D(s.value[g])),g=null,Ge=setTimeout(()=>{Y()},500))},ee=o=>{switch(o){case"top":return 0;case"right":return Z-O.value*2-s.value[g].s_width;case"bottom":return 999999999;case"left":return 0}};let y=null,Ae="",Ce=0,Pe=0,ne=0,se=0,de=0,ie=0;const te=(o,l,e)=>{Be(),y=l,m("resizeStart",D(y)),Ae=e,Ce=o.clientX,Pe=o.clientY,ne=l.s_width,se=l.s_height,de=l.s_y,ie=l.s_x,y.drag=!0,re(y),window.addEventListener("mousemove",et),window.addEventListener("mouseup",tt)},et=o=>{const l=ne+(o.clientX-Ce),e=se+(o.clientY-Pe),n=ne-(o.clientX-Ce),r=se-(o.clientY-Pe),i=de+(o.clientY-Pe),p=ie+(o.clientX-Ce),f=getComputedStyle(H.value),M=parseInt(f.getPropertyValue("--com-item-border-width").trim()),T=parseInt(f.getPropertyValue("--group-tit-height").trim()),c=()=>{if(y.isGroup===!0){const d=y.s_width-2*O.value-2*M,S=y.s_height-2*Q.value-2*M-(y.groupTit?T:0);y.groupData.forEach(u=>{u.s_width=d*u.groupW,u.s_height=S*u.groupH,u.s_x=d*u.groupX,u.s_y=S*u.groupY})}},w=(typeof y.itemMinWidth=="number"?y.itemMinWidth:k.itemMinWidth)*W.value,a=(typeof y.itemMinHeight=="number"?y.itemMinHeight:k.itemMinHeight)*$();switch(Ae){case"top-left":y.s_height=r<a?a:r>C("top")?C("top"):r,y.s_y=r<a?de+se-a:r>C("top")?0:i,y.s_width=n<w?w:n>C("left")?C("left"):n,y.s_x=n<w?ie+ne-w:n>C("left")?0:p,c();break;case"top":y.s_height=r<a?a:r>C("top")?C("top"):r,y.s_y=r<a?de+se-a:r>C("top")?0:i,c();break;case"top-right":y.s_height=r<a?a:r>C("top")?C("top"):r,y.s_y=r<a?de+se-a:r>C("top")?0:i,y.s_width=l<w?w:l>C("right")?C("right"):l,c();break;case"left":y.s_width=n<w?w:n>C("left")?C("left"):n,y.s_x=n<w?ie+ne-w:n>C("left")?0:p,c();break;case"right":y.s_width=l<w?w:l>C("right")?C("right"):l,c();break;case"bottom-left":y.s_height=e<a?a:e>C("bottom")?C("bottom"):e,y.s_width=n<w?w:n>C("left")?C("left"):n,y.s_x=n<w?ie+ne-w:n>C("left")?0:p,c();break;case"bottom":y.s_height=e<a?a:e>C("bottom")?C("bottom"):e,c();break;case"bottom-right":y.s_height=e<a?a:e>C("bottom")?C("bottom"):e,y.s_width=l<w?w:l>C("right")?C("right"):l,c();break}Ht(y);let P=N(x(s.value.filter(d=>d.drag!==!0)),y,!0);if(P.length>0){P.sort((d,S)=>{const u=d.s_y,B=S.s_y;return u-B});for(let d=0;d<P.length;d++)P.filter(S=>S.id===P[d].id).forEach(S=>{S.s_y+=y.s_y+y.s_height-S.s_y,s.value.filter(u=>u.id===S.id)[0].s_y=S.s_y,A([S],(u,B)=>u.filter(v=>v.drag!==!0&&v.id!==B.id),!0)})}s.value.forEach(d=>{_e(d)}),Y(!1),re(y),m("resizeIng",D(y))},tt=o=>{delete y.drag,Ae="",re(null),window.removeEventListener("mousemove",et),window.removeEventListener("mouseup",tt),Y(),m("resizeEnd",D(y)),y=null},C=o=>{switch(o){case"top":return de+se;case"left":return ie+ne;case"right":return Z-O.value*2-ie;case"bottom":return 999999999}},Y=(o=!0)=>{o===!0&&A(s.value,(e,n)=>e.filter(r=>r.id!==n.id)),Xt(o),s.value.forEach(e=>{(o===!0||e.move!==!0&&e.drag!==!0)&&Ue(e)}),o===!0&&$t();const l=s.value.map(e=>e.y+e.height);l.length>0?j.value=Math.max(...l):j.value=0},Xt=(o=!0)=>{const l=x(s.value).sort((e,n)=>{const r=e.y,i=n.y;return r-i});if(!o){if(y!==null){const e=G(x(l.filter(r=>r.drag!==!0&&r.s_y+r.s_height<y.s_y)),y),n=l.filter(r=>r.drag===!0)[0];n&&(e.length>0?(n.height+=n.y-Math.max(...e.map(r=>r.y+r.height)),n.y=Math.max(...e.map(r=>r.y+r.height))):(n.height+=n.y,n.y=0))}else if(g!==null){const e=l.filter(n=>n.move===!0)[0];e&&(e.s_x=b.value.s_x,e.s_y=b.value.s_y,_e(e))}}for(let e=0;e<l.length;e++){const n=G(l,l[e]).filter(r=>r.y+r.height<=l[e].y);n.length>0?l[e].y=Math.max(...n.map(r=>r.y+r.height)):l[e].y=0}l.forEach(e=>{o===!0||e.move!==!0&&e.drag!==!0?s.value.filter(n=>n.id===e.id)[0].y=e.y:e.move===!0&&(s.value.filter(n=>n.id===e.id)[0].syCopy=e.y*$())})},$t=()=>{const o=s.value.filter(l=>l.isGroup===!0);if(o.length>0){const l=getComputedStyle(H.value),e=parseInt(l.getPropertyValue("--setting-icon-group-width").trim()),n=parseInt(l.getPropertyValue("--setting-icon-group-height").trim());o.forEach(r=>{O.value+r.s_x+r.s_width+e>Z?O.value+r.s_x-e<0?k.groupBtnPosMore?Q.value+r.s_y-n<0?r.btnPosition="bottom":r.btnPosition="top":r.btnPosition="center":r.btnPosition="left":r.btnPosition="right"})}},ot=new ResizeObserver(o=>{Ft(Z===o[0].borderBoxSize[0].inlineSize?null:o[0].borderBoxSize[0].inlineSize,Je===o[0].borderBoxSize[0].blockSize?null:o[0].borderBoxSize[0].blockSize)});t.onMounted(()=>{ot.observe(H.value)});const Se=t.ref("");let Le=0,Oe=0,He=null,Xe=!1;const Rt=(o=[],l=null)=>{clearInterval(He),Se.value=new Date().getTime()+"",Le=0,Oe=0,o.forEach(e=>{Le+=1,e.isGroup===!0&&(Oe+=e.groupData.length)}),it(),m("domStart"),s.value=x(o),s.value.filter(e=>e.isGroup===!0).forEach(e=>{if(e.groupData.length<2)ve(e.id);else{const n=Ne(e.groupData,e);De(n)}}),Xe=!0,t.nextTick(()=>{const e=H.value.getBoundingClientRect();l!=null?(ge(l),ce(e.width/l)):(ge(s.value.length>0?e.width:null),ce(1)),s.value.forEach(n=>{le(n)}),Y(),He=setInterval(()=>{z(H.value,Se.value+"p").length===Le&&z(H.value,Se.value+"c").length===Oe&&(clearInterval(He),m("domReady"))},10),setTimeout(()=>{Xe=!1},500)})},Yt=o=>{o.showSet=!0},$e=o=>{const l=s.value.filter(e=>e.id===o);if(l.length===1)delete l[0].showSet;else try{}catch{}},lt=(o,l,e)=>{const n=Ke(o),r=Ke(l),i=ht(r,n,e);if(i)o.x=i.x,o.y=i.y;else{o.x=0;const p=r.map(f=>f.y+f.height);if(p.length>0)o.y=Math.max(...p);else try{}catch{}}},ue=(o,l=null,e=!1)=>{const n=x(o),r=s.value.filter(i=>i.id===l);if(n.id||(n.id=new Date().getTime()+""),l&&r.length!==1)try{}catch{}finally{return}if(e!==!0&&(delete n.x,delete n.y,l?(r[0].groupData.forEach(i=>{oe(i,r[0])}),lt(n,r[0].groupData,r[0].width)):lt(n,s.value,(K||Z)-O.value*2)),l){r[0].groupData.push(n);const i=Ne(r[0].groupData,r[0]);De(i),A([i],(p,f)=>p.filter(M=>M.id!==f.id))}else n.x!==void 0&&n.y!==void 0&&(s.value.length===0&&ge(Z),le(n),s.value.push(n));Y()},Re=(o,l=null,e=null)=>{let n=null;const r=s.value.filter(i=>i.id===l);if(l?r.length===1&&(n=x(r[0].groupData.filter(i=>i.id===o)[0])):n=x(s.value.filter(i=>i.id===o)[0]),n)return n.id=e||new Date().getTime()+"",l?(oe(n,r[0]),ue(n,l)):ue(n),D(l?s.value.filter(i=>i.id===l)[0].groupData.filter(i=>i.id===n.id)[0]:s.value.filter(i=>i.id===n.id)[0]);try{}catch{}finally{return null}},fe=(o,l=null,e=!0)=>{let n=-1;const r=s.value.filter(i=>i.id===l);if(l?r.length===1&&(n=r[0].groupData.findIndex(i=>i.id===o)):n=s.value.findIndex(i=>i.id===o),n!==-1){if(l)if(r[0].groupData.splice(n,1),r[0].groupData.length===1)ve(l);else{r[0].groupData.forEach(p=>{oe(p,r[0])});const i=Ne(r[0].groupData,r[0]);De(i)}else s.value.splice(n,1),s.value.length===0&&e&&(ge(null),ce(1));e&&Y()}else try{}catch{}},Wt=o=>{De(o,!1)},De=(o,l=!0)=>{if(o.id){const e=x(o);let n=-1;const r=s.value.filter(i=>i.id===e.inGroupId);if(e.inGroupId?r.length===1&&(n=r[0].groupData.findIndex(i=>i.id===e.id)):n=s.value.findIndex(i=>i.id===e.id),n!==-1){if(l&&(delete e.showPop,delete e.showSet,delete e.btnPosition,e.groupData&&e.groupData.forEach(i=>{delete i.showPop,delete i.showSet})),e.inGroupId){if(l)r[0].groupData[n]=e;else try{delete r[0].showPop,delete r[0].showSet,delete r[0].btnPosition,r[0].groupData&&r[0].groupData.forEach(i=>{delete i.showPop,delete i.showSet});for(let i in e){const p=i.split(".");let f=r[0].groupData[n];for(let M=0;M<p.length;M++)if(M===p.length-1)f[p[M]]=e[i];else if(f=f[p[M]],!f)throw new Error(i)}}catch{try{}catch{}}le(r[0])}else{if(l)s.value[n]=e;else try{delete s.value[n].showPop,delete s.value[n].showSet,delete s.value[n].btnPosition,s.value[n].groupData&&s.value[n].groupData.forEach(i=>{delete i.showPop,delete i.showSet});for(let i in e){const p=i.split(".");let f=s.value[n];for(let M=0;M<p.length;M++)if(M===p.length-1)f[p[M]]=e[i];else if(f=f[p[M]],!f)throw new Error(i)}}catch{try{}catch{}}le(s.value[n])}Y()}else try{}catch{}}else try{}catch{}},Ye=(o,l=!1)=>{let e=null;if(e=s.value.filter(n=>n.id===o)[0],e)return typeof l=="boolean"?e.static=l:l&&typeof l=="object"&&(typeof l.static=="boolean"&&(e.static=l.static),typeof l.dragable=="boolean"&&(e.dragable=l.dragable),typeof l.resizable=="boolean"&&(e.resizable=l.resizable)),D(s.value.filter(n=>n.id===e.id)[0]);try{}catch{}finally{return null}},Ft=(o,l)=>{o!==null&&(Z=o,Xe||(ce(K&&Z?o/K:1),s.value.forEach(e=>{le(e)}),Y())),l!==null&&(Je=l)},rt=o=>{o.showPop||(s.value.forEach(l=>{delete l.showPop,l.groupData&&l.groupData.forEach(e=>{delete e.showPop})}),m("openSetMenu",D(o)),o.showPop=!0,window.addEventListener("click",Be))},Be=()=>{s.value.forEach(o=>{delete o.showPop,o.groupData&&o.groupData.forEach(l=>{delete l.showPop})}),window.removeEventListener("click",Be)},R=t.ref(!1),nt=o=>{const l=s.value.findIndex(e=>e.id===o);if(l!==-1)s.value[l].checked=!0,s.value[l].checkDis=!0,R.value=!0,m("showGroup",R.value);else try{}catch{}},We=()=>{R.value=!1,s.value.forEach(o=>{delete o.checked,delete o.checkDis,o.groupData&&o.groupData.forEach(l=>{delete l.checked,delete l.checkDis})}),m("showGroup",R.value)},Kt=o=>{o.checked=!o.checked,m("updateChecked",s.value.filter(l=>l.checked).length)},Ne=(o,l)=>{const e=x(o),n=x(l);e.sort((c,w)=>{const a=c.x,P=w.x;return a-P});for(let c=0;c<e.length-1;c++){if(c===0&&e[c].x>0){const w=e[c].x;for(let a=c;a<e.length;a++)e[a].x-=w}if(e[c+1].x>e[c].x+e[c].width){const w=x(e.slice(0,c+1));if(e[c+1].x>Math.max(...w.map(a=>a.x+a.width))){const a=e[c+1].x-Math.max(...w.map(P=>P.x+P.width));for(let P=c+1;P<e.length;P++)e[P].x-=a}}}e.sort((c,w)=>{const a=c.y,P=w.y;return a-P});for(let c=0;c<e.length-1;c++){if(c===0&&e[c].y>0){const w=e[c].y;for(let a=c;a<e.length;a++)e[a].y-=w}if(e[c+1].y>e[c].y+e[c].height){const w=x(e.slice(0,c+1));if(e[c+1].y>Math.max(...w.map(a=>a.y+a.height))){const a=e[c+1].y-Math.max(...w.map(P=>P.y+P.height));for(let P=c+1;P<e.length;P++)e[P].y-=a}}}const r=e.map(c=>c.x+c.width),i=Math.max(...r),p=e.map(c=>c.y+c.height),f=Math.max(...p);e.forEach(c=>{c.inGroupId||(c.inGroupId=n.id),c.groupW=c.width/i,c.groupH=c.height/f,c.groupX=c.x/i,c.groupY=c.y/f,c.isObstacle=c.x+c.width===i&&c.y===0,delete c.width,delete c.height});const M=getComputedStyle(H.value),T=parseInt(M.getPropertyValue("--group-tit-height").trim());return n.width=i,n.height=f+(n.groupTit?T:0),n.groupData=[...e],n},oe=(o,l)=>{const e=getComputedStyle(H.value),n=parseInt(e.getPropertyValue("--group-tit-height").trim());o.width=l.width*o.groupW,o.height=(l.height-(l.groupTit?n:0))*o.groupH},qt=()=>{t.nextTick(()=>{U()})},Ut=()=>{let o=s.value.filter(l=>l.checked);if(o.length>1)if(o=k.beforeAddGroup(x(o)),typeof o=="object"&&o instanceof Array&&o.length>0&&o.filter(l=>l.id).length===o.length){const l={id:new Date().getTime()+"G",isGroup:!0,groupTit:""},e=Ne(o,l);return e.groupData.forEach(n=>{fe(n.id,null,!1)}),ue(e),We(),D(s.value.filter(n=>n.id===e.id)[0])}else try{}catch{}finally{return null}else return We(),null},st=(o,l)=>{const e=s.value.filter(n=>n.id===l)[0];if(e){let n=e.groupData.filter(r=>r.id===o)[0];if(n){if(e.groupData.length===2)return ve(l);if(n=k.beforeRemoveGroup(x([n])),typeof n=="object"&&n instanceof Array&&n.length===1&&n.filter(r=>r.id).length===1)return n=n[0],oe(n,e),delete n.inGroupId,delete n.groupW,delete n.groupH,delete n.groupX,delete n.groupY,delete n.isObstacle,fe(n.id,e.id),ue(n),[D(s.value.filter(r=>r.id===o)[0])];try{}catch{}finally{return[]}}else try{}catch{}finally{return[]}}else try{}catch{}finally{return[]}},ve=o=>{const l=s.value.filter(e=>e.id===o)[0];if(l){let e=[],n=!0;try{l.groupData.forEach(r=>{if(r=k.beforeRemoveGroup(x([l])),typeof r=="object"&&r instanceof Array&&r.length===1&&r.filter(i=>i.id).length===1)r=r[0];else throw n=!1,new Error})}catch{}if(n){fe(l.id,null,!1),l.groupData.forEach(i=>{oe(i,l),i.x+=l.x,i.y+=l.y,delete i.inGroupId,delete i.groupW,delete i.groupH,delete i.groupX,delete i.groupY,delete i.isObstacle,e.push(i.id),ue(i,null,!0)});let r=[];return e.forEach(i=>{r.push(D(s.value.filter(p=>p.id===i)[0]))}),r}else return[]}else try{}catch{}finally{return[]}},Jt=(o="",l)=>{const e=s.value.filter(n=>n.id===l)[0];if(e){if(!e.groupTit||!o){const n=getComputedStyle(H.value),r=parseInt(n.getPropertyValue("--group-tit-height").trim());e.groupTit&&!o&&(e.height-=r,e.s_height-=r*$()),!e.groupTit&&o&&(e.height+=r,e.s_height+=r*$())}e.groupTit=o,A([e],(n,r)=>n.filter(i=>i.id!==r.id)),Y()}else try{}catch{}},it=()=>{s.value=[],ge(null),ce(1),j.value=0},Qt=(o=null)=>new Promise((l,e)=>{s.value.forEach(r=>{delete r.showPop,delete r.showSet,r.groupData&&r.groupData.forEach(i=>{delete i.showPop,delete i.showSet})});const n=x(s.value);n.forEach(r=>{r.isGroup===!0&&r.groupData.forEach(i=>{oe(i,r),delete i.s_width,delete i.s_height,delete i.s_x,delete i.s_y}),delete r.btnPosition,delete r.s_width,delete r.s_height,delete r.s_x,delete r.s_y}),o&&K&&n.forEach(r=>{le(r,o/K),Ue(r,o/K)}),l({data:n,width:o||K})});return t.onBeforeUnmount(()=>{ot.unobserve(H.value),window.removeEventListener("click",Be),window.removeEventListener("click",Me),window.removeEventListener("keydown",Ie)}),_({init:Rt,addItem:ue,copyItem:Re,deleteItem:fe,updateItem:Wt,toggleLockItem:Ye,hideGroupSet:$e,openGroup:nt,closeGroup:We,changeGroupBorder:qt,addGroup:Ut,removeGroupItem:st,removeGroup:ve,changeGroupTit:Jt,openTrimModel:Ve,closeTrimModel:Me,resetData:it,getData:Qt}),(o,l)=>(t.openBlock(),t.createElementBlock("div",{class:"vue-drag-component-plus",style:t.normalizeStyle({"--item-scale":t.unref(W),"--css-scale":h.seeModel?t.unref(ye):1,"--com-x-space":t.unref(O)+"px","--com-y-space":t.unref(Q)+"px"}),ref_key:"pageRef",ref:H},[t.createElementVNode("div",dt,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(s),(e,n)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["com-item",t.unref(g)!==null?"":"not-move-animate",e.move?"is-move":"",e.drag?"is-drag":"",e.showPop||e.isGroup&&e.groupData.filter(r=>r.showPop).length>0?"on-top":"",t.unref(Se)+"p","i"+e.id+"d"]),style:t.normalizeStyle({width:e.s_width+"px",height:e.s_height+"px",top:e.s_y+"px",left:e.s_x+"px"}),key:n},[t.createElementVNode("div",{class:t.normalizeClass(["com-item-inner",h.seeModel||t.unref(X)||t.unref(R)||e.static===!0||e.dragable===!1?"":"can-drag",h.seeModel||t.unref(X)?"no-hover":""]),onMousedown:t.withModifiers(r=>h.seeModel||t.unref(X)||t.unref(R)||e.static===!0||e.dragable===!1?null:je(r,n),["prevent"]),onMouseenter:r=>h.seeModel||t.unref(X)||t.unref(R)||t.unref(g)!==null||t.unref(y)||!e.isGroup?null:Yt(e),onMouseleave:r=>h.seeModel||t.unref(X)||t.unref(R)||t.unref(g)!==null||t.unref(y)||!e.isGroup?null:$e(e.id)},[t.createElementVNode("div",ft,[e.isGroup?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[e.groupTit?(t.openBlock(),t.createElementBlock("div",{key:0,class:"group-item-tit",title:e.groupTit},t.toDisplayString(e.groupTit),9,pt)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:t.normalizeClass(["group-item-content",e.groupTit?"":"full"])},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.groupData,(r,i)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["com-item-box-child",r.isObstacle?"is-obstacle":"",t.unref(Se)+"c"]),style:t.normalizeStyle({width:r.s_width+"px",height:r.s_height+"px",top:r.s_y+"px",left:r.s_x+"px"}),key:i},[t.createElementVNode("div",gt,[t.renderSlot(o.$slots,"item",{data:r},()=>[t.createElementVNode("p",null,t.toDisplayString(Math.round(r.s_width*100)/100)+","+t.toDisplayString(Math.round(r.s_height*100)/100),1),t.createElementVNode("p",null,t.toDisplayString(Math.round(r.s_x*100)/100)+","+t.toDisplayString(Math.round(r.s_y*100)/100),1)])]),!h.seeModel&&!t.unref(X)&&!t.unref(R)&&t.unref(g)===null&&t.unref(y)===null?(t.openBlock(),t.createElementBlock("div",{key:0,class:"setting-box",style:t.normalizeStyle({display:r.showPop?"flex":"none"}),onMousedown:t.withModifiers(p=>null,["prevent","stop"])},[t.createVNode(ae,{iconObj:h.settingIcon,onClick:t.withModifiers(p=>rt(r),["prevent","stop"])},null,8,["iconObj","onClick"])],36)):t.createCommentVNode("",!0),r.showPop?(t.openBlock(),t.createElementBlock("div",{key:1,class:"setting-box-pop",onMousedown:t.withModifiers(p=>null,["prevent","stop"])},[t.renderSlot(o.$slots,"setPopNormal",{data:D(r)},()=>[t.createElementVNode("div",{class:"setting-box-pop-item",onClick:p=>st(r.id,r.inGroupId)},"移出组合",8,yt),t.createElementVNode("div",{class:"setting-box-pop-item",onClick:p=>Re(r.id,r.inGroupId)},"复制",8,_t),t.createElementVNode("div",{class:"setting-box-pop-item",onClick:p=>fe(r.id,r.inGroupId)},"删除",8,xt)])],32)):t.createCommentVNode("",!0)],6))),128))],2)],64)):(t.openBlock(),t.createElementBlock("div",wt,[t.renderSlot(o.$slots,"item",{data:e},()=>[t.createElementVNode("p",null,t.toDisplayString(Math.round(e.s_width*100)/100)+","+t.toDisplayString(Math.round(e.s_height*100)/100),1),t.createElementVNode("p",null,t.toDisplayString(Math.round(e.s_x*100)/100)+","+t.toDisplayString(Math.round(e.s_y*100)/100),1)])])),!e.isGroup&&e.notGroup!==!0&&t.unref(R)?(t.openBlock(),t.createElementBlock("div",{key:2,class:t.normalizeClass(["group-checkbox",e.checked?"is-checked":"",e.checkDis?"disabled":""]),onClick:r=>e.checkDis?null:Kt(e)},null,10,kt)):t.createCommentVNode("",!0),!h.seeModel&&!t.unref(X)&&!t.unref(R)&&t.unref(g)===null&&t.unref(y)===null?(t.openBlock(),t.createElementBlock("div",{key:3,class:t.normalizeClass(["setting-box",e.isGroup===!0?e.btnPosition==="right"?"only-g":e.btnPosition==="left"?"only-g l":e.btnPosition==="top"?"only-g t":e.btnPosition==="bottom"?"only-g b":e.btnPosition==="center"?"only-g c":"":""]),style:t.normalizeStyle({display:e.showPop||e.showSet?"flex":"none"}),onMousedown:t.withModifiers(r=>null,["prevent","stop"])},[t.createVNode(ae,{iconObj:h.settingIcon,onClick:t.withModifiers(r=>rt(e),["prevent","stop"])},null,8,["iconObj","onClick"])],38)):t.createCommentVNode("",!0),e.showPop?(t.openBlock(),t.createElementBlock("div",{key:4,class:t.normalizeClass(["setting-box-pop",e.isGroup===!0?e.btnPosition==="right"?"special":e.btnPosition==="left"?"special l":e.btnPosition==="top"?"special t":e.btnPosition==="bottom"?"special b":e.btnPosition==="center"?"special c":"":""]),onMousedown:t.withModifiers(r=>null,["prevent","stop"])},[e.isGroup===!0?t.renderSlot(o.$slots,"setPopSpecial",{key:0,data:D(e)},()=>[t.createElementVNode("div",{class:"setting-box-pop-item",onClick:r=>Ye(e.id,e.static!==!0)},t.toDisplayString(e.static===!0?"解除":"")+"锁定 ",9,bt),e.static!==!0?(t.openBlock(),t.createElementBlock("div",{key:0,class:"setting-box-pop-item",onClick:r=>Ve(e.id)}," 微调 ",8,mt)):t.createCommentVNode("",!0),h.hideTit?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",{key:1,class:"setting-box-pop-item",onClick:r=>{$e(e.id),m("showTitPop",e.groupTit,e.id)}}," 设置组合标题 ",8,Et)),t.createElementVNode("div",{class:"setting-box-pop-item",onClick:r=>ve(e.id)},"解除组合",8,Mt)]):t.renderSlot(o.$slots,"setPopNormal",{key:1,data:D(e)},()=>[e.notGroup!==!0?(t.openBlock(),t.createElementBlock("div",{key:0,class:"setting-box-pop-item",onClick:r=>nt(e.id)},"组合",8,St)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:"setting-box-pop-item",onClick:r=>Ye(e.id,e.static!==!0)},t.toDisplayString(e.static===!0?"解除":"")+"锁定 ",9,Bt),e.static!==!0?(t.openBlock(),t.createElementBlock("div",{key:1,class:"setting-box-pop-item",onClick:r=>Ve(e.id)}," 微调 ",8,vt)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:"setting-box-pop-item",onClick:r=>Re(e.id)},"复制",8,Ct),t.createElementVNode("div",{class:"setting-box-pop-item",onClick:r=>fe(e.id)},"删除",8,Pt)])],34)):t.createCommentVNode("",!0)]),!h.seeModel&&!t.unref(X)&&!t.unref(R)&&!e.showPop&&!(e.isGroup&&e.groupData.filter(r=>r.showPop).length>0)&&!e.move&&e.static!==!0&&e.resizable!==!1?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.unref(E).indexOf("topLeft")!==-1?(t.openBlock(),t.createElementBlock("div",{key:0,class:"resize-line top-left",onMousedown:t.withModifiers(r=>te(r,e,"top-left"),["prevent","stop"])},null,40,Dt)):t.createCommentVNode("",!0),t.unref(E).indexOf("top")!==-1?(t.openBlock(),t.createElementBlock("div",{key:1,class:"resize-line top",onMousedown:t.withModifiers(r=>te(r,e,"top"),["prevent","stop"])},null,40,Nt)):t.createCommentVNode("",!0),t.unref(E).indexOf("topRight")!==-1?(t.openBlock(),t.createElementBlock("div",{key:2,class:"resize-line top-right",onMousedown:t.withModifiers(r=>te(r,e,"top-right"),["prevent","stop"])},null,40,zt)):t.createCommentVNode("",!0),t.unref(E).indexOf("left")!==-1?(t.openBlock(),t.createElementBlock("div",{key:3,class:"resize-line left",onMousedown:t.withModifiers(r=>te(r,e,"left"),["prevent","stop"])},null,40,Vt)):t.createCommentVNode("",!0),t.unref(E).indexOf("right")!==-1?(t.openBlock(),t.createElementBlock("div",{key:4,class:"resize-line right",onMousedown:t.withModifiers(r=>te(r,e,"right"),["prevent","stop"])},null,40,It)):t.createCommentVNode("",!0),t.unref(E).indexOf("bottomLeft")!==-1?(t.openBlock(),t.createElementBlock("div",{key:5,class:"resize-line bottom-left",onMousedown:t.withModifiers(r=>te(r,e,"bottom-left"),["prevent","stop"])},null,40,Gt)):t.createCommentVNode("",!0),t.unref(E).indexOf("bottom")!==-1?(t.openBlock(),t.createElementBlock("div",{key:6,class:"resize-line bottom",onMousedown:t.withModifiers(r=>te(r,e,"bottom"),["prevent","stop"])},null,40,Tt)):t.createCommentVNode("",!0),t.unref(E).indexOf("bottomRight")!==-1?(t.openBlock(),t.createElementBlock("div",{key:7,class:"resize-line bottom-right",onMousedown:t.withModifiers(r=>te(r,e,"bottom-right"),["prevent","stop"])},null,40,At)):t.createCommentVNode("",!0)],64)):t.createCommentVNode("",!0)],42,ut)],6))),128)),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(s),(e,n)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["shadow-bg",t.unref(g)!==null?"":"not-move-animate",e.move?"is-move":"",e.drag?"is-drag":""]),style:t.normalizeStyle({width:e.s_width-t.unref(O)*2+"px",height:e.s_height-t.unref(Q)*2+"px",top:e.s_y+t.unref(Q)+"px",left:e.s_x+t.unref(O)+"px"}),key:n},null,6))),128)),t.unref(g)!==null?(t.openBlock(),t.createElementBlock("div",{key:0,class:"drag-bg",style:t.normalizeStyle({width:t.unref(b).s_width+"px",height:t.unref(b).s_height+"px",top:t.unref(b).s_y+"px",left:t.unref(b).s_x+"px"})},null,4)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:"height-bg",style:t.normalizeStyle({height:(t.unref(j)>0?t.unref(j)*$()+(h.seeModel?h.seeModelMinBg:220):0)+"px"})},null,4),h.showAuxiliary?(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.unref(xe)!==null?(t.openBlock(),t.createElementBlock("div",{key:0,class:"auxiliary-line hor",style:t.normalizeStyle({top:t.unref(xe)+"px",left:"0px"})},null,4)):t.createCommentVNode("",!0),t.unref(we)!==null?(t.openBlock(),t.createElementBlock("div",{key:1,class:"auxiliary-line hor",style:t.normalizeStyle({top:t.unref(we)+"px",left:"0px"})},null,4)):t.createCommentVNode("",!0),t.unref(ke)!==null?(t.openBlock(),t.createElementBlock("div",{key:2,class:"auxiliary-line hor",style:t.normalizeStyle({top:t.unref(ke)+"px",left:"0px"})},null,4)):t.createCommentVNode("",!0),t.unref(be)!==null?(t.openBlock(),t.createElementBlock("div",{key:3,class:"auxiliary-line",style:t.normalizeStyle({top:"0px",left:t.unref(be)+"px",height:t.unref(j)*$()+220+"px"})},null,4)):t.createCommentVNode("",!0),t.unref(me)!==null?(t.openBlock(),t.createElementBlock("div",{key:4,class:"auxiliary-line",style:t.normalizeStyle({top:"0px",left:t.unref(me)+"px",height:t.unref(j)*$()+220+"px"})},null,4)):t.createCommentVNode("",!0),t.unref(Ee)!==null?(t.openBlock(),t.createElementBlock("div",{key:5,class:"auxiliary-line",style:t.normalizeStyle({top:"0px",left:t.unref(Ee)+"px",height:t.unref(j)*$()+220+"px"})},null,4)):t.createCommentVNode("",!0)],64)):t.createCommentVNode("",!0),t.unref(s).length===0?(t.openBlock(),t.createElementBlock("div",Lt,[t.renderSlot(o.$slots,"empty",{},()=>[l[0]||(l[0]=t.createTextVNode(" 暂无数据 "))])])):t.createCommentVNode("",!0)])],4))}}],qe={install(h){Ot.forEach(_=>{h.component("vueDragComponentPlus",_)})}};return typeof window<"u"&&window.Vue&&window.Vue.use(qe),qe});
